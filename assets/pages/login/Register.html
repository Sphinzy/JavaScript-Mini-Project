<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- css  -->
  <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/theme.css" />
    <!-- icon  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- font  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- boostrap  -->
     <link rel="stylesheet" href="../../bootstrap-5.3.7/css/bootstrap.css" />
             <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
            <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />

</head>
<style>
        form {
      border: 2px color(rec2020 red green blue);
      border-radius: 15px;

      background-color: rgba(215, 211, 211, 0.282);
    }

</style>
<body class="bg-main">

    <section >
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-6 mt-5">
                             <img 
                        style="width: 100%; height: 662px; object-fit: cover"
                        src="https://www.kindpng.com/picc/m/273-2738804_php-login-and-authentication-login-hd-png-download.png"
                        alt=""
                      />
                        </div>
                        <div class="col-6 mt-5 " style="width: 500px; height: 650px; border-radius: 10px;">
                            <form >
                              <h1 style="padding-left: 30px;"  >Register</h1>
                              <p style="padding-left: 30px;"    >Create Your account. it's free and only takes a minute</p>
                              <div class="row">

                                <div class="col-6  " style="padding-left: 30px;" >
                                    <input type="text"    class="ps-2" placeholder="First Name" id="fname"  style="width: 90%; height: 40px; border-radius: 10px; " >
                                    <span id="errfname" style="margin-left: 10px"></span>
                                </div>
                                <div class="col-6  " style="padding-left: 30px;">
                                    <input type="text" class="ps-2" placeholder="  Last Name" id="lname" style="width: 90%; height: 40px; border-radius: 10px; "  >
                                    <span id="errlname" style="margin-left: 10px"></span>
                                </div>

                                <div class="col-12 mt-5 " style="padding-left: 30px;">
                                    <input type="text" class="ps-2" placeholder="Email" id="email" style="width: 96%; height: 40px; border-radius: 10px;">
                                    <span id="erremail" style="margin-left: 10px"></span> 
                                </div>
                                <div class="col-12 mt-5 position-relative" style="padding-left: 30px;">
                                    <input class="ps-2" type="text" placeholder="Password" id="password" style="width: 96%; height: 40px; border-radius: 10px;"> 
                                     <span class="  toggle-password position-absolute" style="top: 10px; left: 88%;"  onclick="togglepassword()">
                            <i class="bi bi-eye"  style="color: black;" id="eyeIcon"></i>
                           </span>
                                    <span id="errpassword" style="margin-left: 10px"></span>
                                </div>
                                <div class="col-12 mt-5 position-relative" style="padding-left: 30px;">
                                    <input type="text" class="ps-2" placeholder="Confirm Password" id="cpassword" style="width: 96%; height: 40px; border-radius: 10px;"> 
                                                  <span class="  toggle-cpassword position-absolute" style="top: 10px; left: 88%; "  onclick="togglecpassword()">
                            <i  class="bi bi-eye" style="color: black;"  id="eyeicon"></i>
                           </span>
                                    <span id="errcpassword" style="margin-left:10px"></span>
                                </div>
                                <div class="col-12 mt-4" style="padding-left: 30px;">
                                   <div class="mb-3 form-check">
                                     <input type="checkbox" class="form-check-input d-flex" id="check1" checked/>
                                     <label class="form-check-label" for="check1" >I accept the <span style="color: black;">Terms of use </span>& <span style="color: black;">Privacy Policy</span> </label>
                                   </div>
                                </div>
                                <div class="col-12" style="padding-left: 30px;">
                                    <button type="button" onclick="signup()" class="btn btn-main"  style="width: 96%; height: 50px;">Register</button>
                                </div>
                              </div>
                              <div class="text-center mt-3">
                                Already have an account? <a style="color:black;" href="login.html">login</a>
                              </div>
                              
                              </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


   
  
</body>
 <script src="../../bootstrap-5.3.7/js/bootstrap.bundle.min.js"></script>

 <script>
     let fname = document.getElementById('fname');
     let lname = document.getElementById('lname');
     let email = document.getElementById('email');
     let password = document.getElementById('password');
     let cpassword = document.getElementById('cpassword');
    let erremail = document.getElementById("erremail");
    let errpassword = document.getElementById("errpassword");
        let errfname = document.getElementById("errfname");
      let errlname = document.getElementById("errlname");
          let errcpassword = document.getElementById("errcpassword");
  
      function signup(){
        event.preventDefault()
    
        const baseUrl ="http://blogs.csm.linkpc.net/api/v1";
        fetch(baseUrl+"/auth/register",{
            method:"POST",
            headers:{
                "Content-Type":"application/json"
            },
            body:JSON.stringify({
                firstName: fname.value,
                lastName: lname.value,
                email: email.value,
                password: password.value,
                confirmPassword: cpassword.value
            })
        })    
            .then(res => res.json())
            .then(data =>{
              console.log(data)
                if(data.result){
                    alert("Register successfully");
                    return location.href ="login.html"
                }  else if(data.result == false){
              erremail.innerHTML = "please enter valid email";
              erremail.style.color = "red";
              errpassword.innerHTML = "please enter valid password";
              errpassword.style.color = "red";
                errfname.innerHTML = "please enter first name";
                errfname.style.color = "red";
                errlname.innerHTML = "please enter last name";
                errlname.style.color = "red";
                errcpassword.innerHTML = "password does not match";
                errcpassword.style.color = "red";   
                    

                }
                else{
                     location.href = "./login.html"
                }
            })  
      }
       function togglepassword(){
        if(password.type === "password"){
          password.type ="text";
          eyeIcon.classList.replace ("bi-eye-slash", "bi-eye");
        
      } else {
        password.type ="password";
        eyeIcon.classList.replace("bi-eye","bi-eye-slash");
      }
      }
       function togglecpassword(){
        if(cpassword.type === "cpassword"){
          cpassword.type ="text";
          eyeicon.classList.replace ("bi-eye-slash", "bi-eye");
        
      } else {
        cpassword.type ="cpassword";
        eyeicon.classList.replace("bi-eye","bi-eye-slash");
      }
      }

 </script>
</html>